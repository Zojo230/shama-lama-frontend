{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./PotPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PotPage=()=>{const[potData,setPotData]=useState({});const[currentWeek,setCurrentWeek]=useState(1);const[playerCount,setPlayerCount]=useState(0);// ‚úÖ Netlify-compatible backend toggle\nconst backendBase=window.location.hostname==='localhost'?'http://localhost:4000':'https://pickem-backend-2025.onrender.com';useEffect(()=>{fetch(\"\".concat(backendBase,\"/data/current_week.json\")).then(res=>res.json()).then(data=>setCurrentWeek(data.currentWeek||1));fetch(\"\".concat(backendBase,\"/data/roster.json\")).then(res=>res.json()).then(data=>setPlayerCount(data.length||0));},[]);useEffect(()=>{const base=playerCount*10;const potTracker={};let rolling=0;const checkWeek=async week=>{const file=\"\".concat(backendBase,\"/data/winners_week_\").concat(week,\".json\");try{const res=await fetch(file);if(!res.ok)throw new Error('No file');const data=await res.json();const anyWinner=data.some(entry=>entry.total>=9);if(anyWinner){rolling=base;}else{rolling+=base;}potTracker[week]=rolling;}catch(err){potTracker[week]=0;}};const run=async()=>{for(let i=1;i<=14;i++){await checkWeek(i);}setPotData(potTracker);};if(playerCount>0){run();}},[playerCount]);return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFC6 Weekly Pot Totals\"}),Object.keys(potData).map(week=>/*#__PURE__*/_jsxs(\"div\",{className:\"pot-box\",children:[\"Week \",week,\": $\",potData[week]]},week))]});};export default PotPage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","PotPage","potData","setPotData","currentWeek","setCurrentWeek","playerCount","setPlayerCount","backendBase","window","location","hostname","fetch","concat","then","res","json","data","length","base","potTracker","rolling","checkWeek","week","file","ok","Error","anyWinner","some","entry","total","err","run","i","className","children","Object","keys","map"],"sources":["C:/Users/Allison/Desktop/MyPicksProgram/Program_by_ChatGPT_June_7_2025_Frontend/src/components/PotPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './PotPage.css';\r\n\r\nconst PotPage = () => {\r\n  const [potData, setPotData] = useState({});\r\n  const [currentWeek, setCurrentWeek] = useState(1);\r\n  const [playerCount, setPlayerCount] = useState(0);\r\n\r\n  // ‚úÖ Netlify-compatible backend toggle\r\n  const backendBase =\r\n    window.location.hostname === 'localhost'\r\n      ? 'http://localhost:4000'\r\n      : 'https://pickem-backend-2025.onrender.com';\r\n\r\n  useEffect(() => {\r\n    fetch(`${backendBase}/data/current_week.json`)\r\n      .then(res => res.json())\r\n      .then(data => setCurrentWeek(data.currentWeek || 1));\r\n\r\n    fetch(`${backendBase}/data/roster.json`)\r\n      .then(res => res.json())\r\n      .then(data => setPlayerCount(data.length || 0));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const base = playerCount * 10;\r\n    const potTracker = {};\r\n    let rolling = 0;\r\n\r\n    const checkWeek = async (week) => {\r\n      const file = `${backendBase}/data/winners_week_${week}.json`;\r\n      try {\r\n        const res = await fetch(file);\r\n        if (!res.ok) throw new Error('No file');\r\n        const data = await res.json();\r\n        const anyWinner = data.some(entry => entry.total >= 9);\r\n        if (anyWinner) {\r\n          rolling = base;\r\n        } else {\r\n          rolling += base;\r\n        }\r\n        potTracker[week] = rolling;\r\n      } catch (err) {\r\n        potTracker[week] = 0;\r\n      }\r\n    };\r\n\r\n    const run = async () => {\r\n      for (let i = 1; i <= 14; i++) {\r\n        await checkWeek(i);\r\n      }\r\n      setPotData(potTracker);\r\n    };\r\n\r\n    if (playerCount > 0) {\r\n      run();\r\n    }\r\n  }, [playerCount]);\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <h2>üèÜ Weekly Pot Totals</h2>\r\n      {Object.keys(potData).map(week => (\r\n        <div key={week} className=\"pot-box\">\r\n          Week {week}: ${potData[week]}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PotPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}